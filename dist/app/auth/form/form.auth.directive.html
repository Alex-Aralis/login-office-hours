<div class="columns">
<form ng-submit='form.$valid && vm.wrappedSubmitFunction()' class="row column" name='form' novalidate>
  <div class="row column log-in-form">
    <h4 class="text-center" ng-bind='vm.formTitle'></h4>
    <label>Email
      <input    
        autofocus
        ng-model='vm.user.email' 
        type="email" 
        placeholder="somebody@example.com"
        required
        name='email'
        ng-model-options="{updateOn: 'default blur', debounce: { 'default': 1000, 'blur':0}}"
      >
    </label>
    <label>Password
      <input 
        ng-model='vm.user.password' 
        type="{{ vm.showPassword ? 'text' : 'password' }}" 
        placeholder="owlseveryoneisfondofowls"
        required
        name='formPassword'
        ng-model-options="{updateOn: 'default blur', debounce: { 'default': 1000, 'blur':0}}"
      >
    </label>
    <input 
        id="show-password" 
        type="checkbox" 
        ng-model='vm.showPassword'
    ><label for="show-password">Show password</label>
    <p><button 
        type="submit" 
        class="button expanded"
        ng-bind='vm.formButtonText'
    >Register</button></p>
    <p ng-show='vm.passwordReset'><a 
        ng-click='vm.sendPasswordResetEmail(vm.user.email)'
    >
        Forget your password?
    </a></p>
  </div>
  <div class='row column'>
    <div class='callout success' ng-show='vm.passwordResetEmailSent'><p>
        A password reset email has been sent to &lt;{{ vm.passwordResetEmailSent }}&gt;.
    </p></div>
  </div>
  <div class='row column'>
    <div class='callout alert' ng-show='vm.error' ng-bind='vm.error'></div>
  </div>
  <div class='row column'>
    <div class='callout alert' ng-show='form.email.$dirty && form.email.$error.required'>
        Email required.
    </div>
  </div>
  <div class='row column'>
    <div class='callout alert' ng-show='form.email.$dirty && form.email.$error.email'>
        Invalid email format.
    </div>
  </div>
  <div class='row column'>
    <div class='callout alert' ng-show='form.formPassword.$dirty && form.formPassword.$error.required'>
        Password required.
    </div>
  </div>
</form>
</div>

